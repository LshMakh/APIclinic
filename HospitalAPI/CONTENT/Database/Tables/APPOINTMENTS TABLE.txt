CREATE TABLE "OLERNING"."LSH_APPOINTMENTS" 
   (	"APPOINTMENT_ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOT NULL ENABLE, 
	"DOCTOR_ID" NUMBER NOT NULL ENABLE, 
	"PATIENT_ID" NUMBER, 
	"APPOINTMENT_DATE" DATE NOT NULL ENABLE, 
	"TIME_SLOT" VARCHAR2(20) NOT NULL ENABLE, 
	"DESCRIPTION" VARCHAR2(500), 
	"IS_BLOCKED" NUMBER(1,0) DEFAULT 0, 
	 CONSTRAINT "VALID_TIME_SLOT" CHECK (
        time_slot IN (
            '09:00 - 10:00', '10:00 - 11:00', '11:00 - 12:00',
            '12:00 - 13:00', '13:00 - 14:00', '14:00 - 15:00',
            '15:00 - 16:00', '16:00 - 17:00'
        )
    ) ENABLE, 
	 PRIMARY KEY ("APPOINTMENT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TAX_DAT"  ENABLE, 
	 CONSTRAINT "UNIQUE_APPOINTMENT" UNIQUE ("DOCTOR_ID", "APPOINTMENT_DATE", "TIME_SLOT")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TAX_DAT"  ENABLE, 
	 CONSTRAINT "FK_PATIENT" FOREIGN KEY ("PATIENT_ID")
	  REFERENCES "OLERNING"."LSH_PATIENTS" ("PATIENTID") ENABLE, 
	 CONSTRAINT "FK_DOCTOR" FOREIGN KEY ("DOCTOR_ID")
	  REFERENCES "OLERNING"."LSH_DOCTORS" ("DOCTORID") ON DELETE CASCADE ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TAX_DAT"   NO INMEMORY ;
  CREATE UNIQUE INDEX "OLERNING"."SYS_C00198191" ON "OLERNING"."LSH_APPOINTMENTS" ("APPOINTMENT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TAX_DAT" ;
  CREATE UNIQUE INDEX "OLERNING"."UNIQUE_APPOINTMENT" ON "OLERNING"."LSH_APPOINTMENTS" ("DOCTOR_ID", "APPOINTMENT_DATE", "TIME_SLOT") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TAX_DAT" ;
  ALTER TABLE "OLERNING"."LSH_APPOINTMENTS" ADD CONSTRAINT "UNIQUE_APPOINTMENT" UNIQUE ("DOCTOR_ID", "APPOINTMENT_DATE", "TIME_SLOT")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TAX_DAT"  ENABLE;
  ALTER TABLE "OLERNING"."LSH_APPOINTMENTS" ADD PRIMARY KEY ("APPOINTMENT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "TAX_DAT"  ENABLE;
  ALTER TABLE "OLERNING"."LSH_APPOINTMENTS" ADD CONSTRAINT "VALID_TIME_SLOT" CHECK (
        time_slot IN (
            '09:00 - 10:00', '10:00 - 11:00', '11:00 - 12:00',
            '12:00 - 13:00', '13:00 - 14:00', '14:00 - 15:00',
            '15:00 - 16:00', '16:00 - 17:00'
        )
    ) ENABLE;
  ALTER TABLE "OLERNING"."LSH_APPOINTMENTS" MODIFY ("TIME_SLOT" NOT NULL ENABLE);
  ALTER TABLE "OLERNING"."LSH_APPOINTMENTS" MODIFY ("APPOINTMENT_DATE" NOT NULL ENABLE);
  ALTER TABLE "OLERNING"."LSH_APPOINTMENTS" MODIFY ("DOCTOR_ID" NOT NULL ENABLE);
  ALTER TABLE "OLERNING"."LSH_APPOINTMENTS" MODIFY ("APPOINTMENT_ID" NOT NULL ENABLE);